@using ITS.Infrastructure.Global;
@{
    
    Layout = null;
    ViewBag.Title = "Reset Password";
}
<link href="@Url.Content("~/Content/LogInStyle.css")" rel="stylesheet" type="text/css" />
<script src="@Url.Content("~/Scripts/jquery-1.5.1.min.js")" type="text/javascript"></script>
<script type="text/javascript">
    function validateLogin() {
        var password = document.getElementById("txtPassword"), confirm_password = document.getElementById("txtComparePassword");
        if (password.value != confirm_password.value) {
            confirm_password.setCustomValidity("Passwords Don't Match");
        } else {
            confirm_password.setCustomValidity('');
        }
    }    
    if ('@ViewBag.ReturnMessage' == '@GlobalConst.Message.PasswordUpdatedSuccessfully')
    {
        alert('@ViewBag.ReturnMessage');
        window.location.href = "/Home/Index";
    }
</script>
@using (Html.BeginForm(GlobalConst.Actions.HomeController.ResetPassword, GlobalConst.Controllers.Home, FormMethod.Post, new { onSuccess="Test"}))
{
    <div class="outer">
        <div class="innerFram">
            <div id="topGreen">
                ITS Portal v1.0
            </div>
            <div class="Heading">
                @* <div style="padding-top: 30px">
                    ##Logo##</div>*@
                <div style="padding-top: 60px">
                    Welcome to ITS Portal
                    <br />
                    <span style="font-size: 12px;">Your password has expired. Please create a new password</span>
                    <br />                    
                    <span style="font-size: 12px; color: red;">@ViewBag.ReturnMessage</span>
                </div>
                <div class="loginBox">
                    <div class="loginInfo">
                        <div class="tableFram">
                            <div style="width: 150px; text-align: right; float: left; font-size: 15px;">
                                New Password :
                            </div>
                            <div style="float: left;">
                                <input type="password" id="txtPassword" name="UserPassword" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{9,}"
                                    title="Must contain at least one number and one uppercase and lowercase letter, and at least 9 or more characters" required />
                                <input type="hidden" id="hdnUserID" name="UserID" value="@ViewBag.UserID" />
                            </div>
                            <div style="clear: both;">
                            </div>
                            <div style="width: 150px; text-align: right; float: left; font-size: 15px; margin-top: 17px;">
                                Confirm Password :
                            </div>
                            <div style="float: left; margin-top: 17px;">
                                <input type="password" id="txtComparePassword" required />
                            </div>
                            <br />
                            <br />
                            <div class="password-reset-inst">
                                <ol type="i" class="ul-paswrd">
                                    <li>Password should be 9 characters minimum</li>
                                    <li>One Number</li>
                                    <li>One Capital</li>
                                    <li>One Lower Case</li>
                                </ol>
                            </div>
                            <br />
                            <br />

                            <input type="submit" value="Update" id="login" onclick="javascript: validateLogin();" name="submitAction" style="margin-top: 17px;" />
                            <br />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
}
