@using ITS.Infrastructure.Global;
@{
    ViewBag.Title = "Add";
    Layout = "~/Views/Shared/_LayoutBootstrap.cshtml";
}

@section ContentHeader{
    <h1>
        Add New Supplier</h1>
}
<div id="breadcrumb">
    <a href="@Url.Action("Index")" title="Go to Home"><i class="icon-home"></i>
        Suppliers</a><a href="#" class="tip-bottom">Add</a>
</div>
<div class="container-fluid">
	<div class="row-fluid">
		<div class="span12">
			<div class="widget-box">
				<div class="widget-title">
					<span class="icon">
						<i class="icon-align-justify"></i>									
					</span>
					<h5>Supplier Details</h5>
				</div>
				<div class="widget-content nopadding" id="divAddSupplier">
                    @using (Html.BeginForm(GlobalConst.Actions.SupplierController.Save, GlobalConst.Controllers.Supplier, FormMethod.Post, new { id = "frmAddSupplier", @class = "form-horizontal" }))
                    {
					<!--<form action="#" method="get" class="form-horizontal">-->
						<div class="control-group">
							<label class="control-label">Supplier Name:</label>
							<div class="controls">
								<input type="text" name="SupplierName" placeholder="John Doe" data-bind="jqBootstrapValidation: {submitSuccess: SaveValidatedClick }" data-validation-ajax-ajax="/SupplierShared/SupplierExists" required />
							</div>
						</div>
						<div class="control-group">
							<label class="control-label">Supplier Address</label>
							<div class="controls">
								<input type="text" name="Address" placeholder="Address of the Supplier" data-bind="jqBootstrapValidation: {submitSuccess: SaveValidatedClick }" required />
							</div>
						</div>
                        <div class="control-group">
							<label class="control-label">Supplier Town / City</label>
							<div class="controls">
								<input type="text" name="City" placeholder="Town / City" data-bind="jqBootstrapValidation: {submitSuccess: SaveValidatedClick }" required />
							</div>
						</div>
                        <div class="control-group">
							<label class="control-label">Supplier Region</label>
							<div class="controls">
								<input type="text" name="Region" placeholder="Region of the Supplier" data-bind="jqBootstrapValidation: {submitSuccess: SaveValidatedClick }" required />
							</div>
						</div>
						<div class="control-group">
							<label class="control-label">Supplier Postal Code</label>
							<div class="controls">
								<input type="text" name="PostCode"   style="text-transform:uppercase" onkeyup="javascript: postalCodeFormat(this)" maxlength="8" placeholder="Postal Code" data-bind="jqBootstrapValidation: {submitSuccess: SaveValidatedClick }" required />
                              
							</div>
						</div>
						<div class="control-group">
							<label class="control-label">Supplier Tel Number</label>
							<div class="controls">
								<input type="text" name="Phone" placeholder="Telephone Number"class="phoneMaskformat"  data-bind="jqBootstrapValidation: {submitSuccess: SaveValidatedClick }" required />
							</div>
						</div>
                        <div class="control-group">
							<label class="control-label">Supplier Fax Number</label>
							<div class="controls">
								<input type="text" name="Fax" placeholder="Fax"  class="phoneMaskformat"/>
							</div>
						</div>
                        <div class="control-group">
							<label class="control-label">Supplier E-mail Address</label>
							<div class="controls">
								<input type="text" data-validation-regex-regex='^[a-zA-Z0-9._-]+@@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$' data-validation-regex-message="Not a valid email address" name="Email" placeholder="email@email.com" data-bind="jqBootstrapValidation: {submitSuccess: SaveValidatedClick }" data-validation-ajax-ajax="/SupplierShared/SupplierEmailExists" required/>
							</div>
						</div>
						<div class="control-group">
							<label class="control-label">Supplier Website Address</label>
							<div class="controls">
								<input type="text" name="Website"  />
							</div>
						</div>
                        <div class="control-group">
                            <label class="control-label"></label>
                            <div class="controls">
                            <label class="checkbox inline">
                                <input type="checkbox" id="IsWheelChairAccessibility" name="IsWheelChairAccessibility" value="true" /> Wheelchair Accessibility
                            </label>
                            <label class="checkbox inline">
                                <input type="checkbox" id="IsWeekends" name="IsWeekends" value="true" /> Weekends
                            </label>
                            <label class="checkbox inline">
                                <input type="checkbox" id="IsEvening" name="IsEvenings" value="true" /> Evening
                            </label>
                            <label class="checkbox inline">
                                <input type="checkbox" id="IsParking" name="IsParking" value="true" /> Parking
                            </label>
                            <label class="checkbox inline">
                                <input type="checkbox" id="IsHomeVisit" name="IsHomeVisit" value="true" /> Home Visits
                            </label>
                            <label class="checkbox inline">
                                <input type="checkbox" id="IsTriage" name="IsTriage" value="true" /> Triage
                            </label>
                            </div>
                        </div>
                        <div class="control-group">
							<label class="control-label">Notes</label>
							<div class="controls">
                                <textarea name="Notes" rows="3"></textarea>
							</div>
						</div>
                    <div class="form-actions">
                        <div class="column-groups-button">
                            <button id="btnSave" type="submit" class="btn btn-primary btn-block" data-bind="bootstrapButton : SaveButtonDisable" data-loading-text="Saving...">
                                Save</button>
                        </div>
                        <div class="clear">
                        </div>
                    </div>
					<!--</form>-->
                    }
				</div>
			</div>
		</div>
	</div>
	<div class="row-fluid">
		<div id="footer" class="span12">
			2012 - 2013 &copy; ITS Portal v1.0
		</div>
	</div>
</div>
@section AdditionalScripts{
<script type="text/javascript" src="@Url.Content("~/Scripts/knockout/viewmodel/views/supplier/AddViewModel.js")"></script>
<script type="text/javascript">
    //test run this will be converted to ko js
    var viewModel = new AddViewModel();
    ko.applyBindings(viewModel, $("#divAddSupplier").get(0)); //submit the form in knockout js to save! do not an ajax call to save!
</script>
}